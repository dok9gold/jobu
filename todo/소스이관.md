# 소스 이관 계획

## 목표
현재 브랜치를 정리하여 히스토리 없는 깨끗한 브랜치들 생성

## 브랜치 구조

```
feature/python312-migration (현재)
    |
    +-- example/with-samples (orphan)  # 교육용 - 현재 상태 그대로
    |
    +-- main (orphan)                  # 코어만 - 샘플 제거
```

---

## Phase 1: example/with-samples (orphan)

현재 상태 그대로 교육용 브랜치 생성

```bash
git checkout --orphan example/with-samples
git add -A
git commit -m "Initial commit: jobu with samples"
git push origin example/with-samples
```

---

## Phase 2: main (orphan) - 정리 후 생성

### 2-1. 파일 정리 (로컬에서)

**삭제 대상:**

| 경로 | 설명 |
|------|------|
| `worker/job/group1/` | 샘플 핸들러 |
| `worker/job/group2/` | 샘플 핸들러 |
| `worker/job/group3/` | 샘플 핸들러 |
| `worker/job/sample.py` | 샘플 핸들러 |
| `worker/job/HANDLERS.md` | 핸들러 문서 |
| `todo/` | TODO 폴더 전체 |
| `CLAUDE.md` | Claude 설정 |

**수정 대상:**

| 파일 | 작업 |
|------|------|
| `config/*.yaml` | `config/*.yaml.example`로 이름 변경 |
| `.gitignore` | `CLAUDE.md`, `config/*.yaml`, `todo/` 추가 |

**config 템플릿 내용:**
- `database.yaml.example` - default sqlite 설정만 (샘플 DB 제거)
- `worker.yaml.example` - databases: [] 로 비우기
- `dispatcher.yaml.example` - 현재 그대로
- `admin.yaml.example` - 현재 그대로

**유지 대상 (수정 안함):**
- `CONTRIBUTING.md`
- `PRODUCTION.md`
- `README.md`

### 2-2. orphan main 생성

```bash
# 기존 main 삭제 (로컬)
git branch -D main

# orphan main 생성
git checkout --orphan main
git add -A
git commit -m "Initial commit"

# remote에 force push
git push origin main --force
```

---

## Phase 3: 정리

```bash
# 기존 브랜치 삭제 (선택)
git branch -D feature/python312-migration
git push origin --delete feature/python312-migration
git push origin --delete feature/operational-quality
```

---

## 체크리스트

- [ ] example/with-samples orphan 생성 (현재 상태 그대로)
- [ ] example/with-samples push
- [ ] 샘플 핸들러 삭제 (group1, group2, group3, sample.py, HANDLERS.md)
- [ ] todo/ 폴더 삭제
- [ ] CLAUDE.md 삭제
- [ ] config/*.yaml -> config/*.yaml.example 변경
- [ ] .gitignore에 CLAUDE.md, config/*.yaml, todo/ 추가
- [ ] 기존 main 삭제 (로컬)
- [ ] main orphan 생성
- [ ] main force push
- [ ] 기존 브랜치 정리 (선택)
